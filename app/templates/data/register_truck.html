{% extends 'core/layout.html' %}
{% block content %}
{% with title="Register truck" %}
{% include 'data/_header.html' %}
{% endwith %}
<div class="row justify-content-center">
    <div class="col-11 col-md-6 col-lg-4">
        <div class="row">
            <div class="col-12 border rounded bg-white p-3">
                <form method="POST">
                    {{ form.csrf_token }}
                    <div class="col-12 mb-3">
                        {% with field=form.id %}
                        {% include 'core/components/inputs/floating_label.html' %}
                        {% endwith %}
                    </div>
                    <div class="col-12 mb-3">
                        {% with field=form.model %}
                        {% include 'core/components/inputs/floating_label.html' %}
                        {% endwith %}
                    </div>
                    <div class="col-12 mb-3">
                        {% with field=form.weight %}
                        {% include 'core/components/inputs/floating_label.html' %}
                        {% endwith %}
                    </div>
                    <div class="col-12 mb-3">
                        {% with field=form.fuel_type %}
                        {% include 'core/components/inputs/floating_label.html' %}
                        {% endwith %}
                    </div>
                    <div class="col-12 mb-3">
                        {% with field=form.driver %}
                        {% include 'core/components/inputs/floating_label.html' %}
                        {% endwith %}
                    </div>
                    <div class="col-12 mb-3">
                        {% with field=form.truck_type %}
                        {% include 'core/components/inputs/floating_label.html' %}
                        {% endwith %}
                    </div>
                    <div class="col-12 mb-3" id="max_speed_container">
                        {% with field=form.max_speed %}
                        {% include 'core/components/inputs/floating_label.html' %}
                        {% endwith %}
                    </div>
                    <div class="col-12 mb-3" id="max_load_container">
                        {% with field=form.max_load %}
                        {% include 'core/components/inputs/floating_label.html' %}
                        {% endwith %}
                    </div>
                    <div class="col-12 mb-3" id="spend_by_kilometer_container" style="display: none;">
                        {% with field=form.spend_by_kilometer %}
                        {% include 'core/components/inputs/floating_label.html' %}
                        {% endwith %}
                    </div>
                    <div class="col-12 mb-3" id="length_container" style="display: none;">
                        {% with field=form.length %}
                        {% include 'core/components/inputs/floating_label.html' %}
                        {% endwith %}
                    </div>
                    <div class="col-12 mb-3" id="width_container" style="display: none;">
                        {% with field=form.width %}
                        {% include 'core/components/inputs/floating_label.html' %}
                        {% endwith %}
                    </div>
                    <div class="col-12 mb-3" id="height_container" style="display: none;">
                        {% with field=form.height %}
                        {% include 'core/components/inputs/floating_label.html' %}
                        {% endwith %}
                    </div>
                    <div class="row col-12 justify-content-center border-top g-0 pt-3">
                        <button class="btn btn-primary">Register</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

<script type="text/javascript">
    $(document).ready(function () {
        const onTruckTypeChange = (x) => {
            const value = $("#truck_type").val();
            if (value == "Lightweight") {
                $("#max_speed_container").show();
                $("#max_load_container").show();
                $("#spend_by_kilometer_container").hide();
                $("#length_container").hide();
                $("#width_container").hide();
                $("#height_container").hide();
            } else {
                $("#max_speed_container").hide();
                $("#max_load_container").hide();
                $("#spend_by_kilometer_container").show();
                $("#length_container").show();
                $("#width_container").show();
                $("#height_container").show();
            }
        };
        $("#truck_type").change(onTruckTypeChange);
        onTruckTypeChange();
    });
</script>
{% endblock %}